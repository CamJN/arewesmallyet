!function(a){"use strict";function r(a,r){var o=a.length;if(r>=o||0===r)return a;var n,e,i,h,u=[],f=0,l=(o-2)/(r-2),p=0;u[f++]=a[p];for(var v=0;r-2>v;v++){var d=0,c=0,m=t((v+1)*l)+1,w=t((v+2)*l)+1;w=o>w?w:o;for(var M=w-m;w>m;m++)d+=1*a[m][0],c+=1*a[m][1];d/=M,c/=M;var g=t((v+0)*l)+1,b=Math.min(t((v+1)*l)+1,o-1),j=1*a[p][0],k=1*a[p][1];for(e=i=-1;b>g;g++)i=.5*s((j-d)*(a[g][1]-k)-(j-a[g][0])*(c-k)),i>e&&(e=i,n=a[g],h=g);u[f++]=n,p=h}return u[f++]=a[o-1],u}function o(a,o){o.data=r(o.data,o.downsample.threshold)}function n(a){a.hooks.processRawData.push(o)}var t=Math.floor,s=Math.abs,e={series:{downsample:{threshold:1e3}}};a.plot.plugins.push({init:n,options:e,name:"downsample",version:"1.0"})}(jQuery);
