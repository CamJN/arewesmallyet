!function(o){function n(n){function e(o){for(var e=n.getData(),i=0;i<e.length;i++)if(e[i].label==o)return e[i];return null}function i(o,i){var l=e(o);if(l){var t=n.getOptions(),d=!1;if("undefined"==typeof l.points.oldShow&&(l.points.oldShow=!1),"undefined"==typeof l.lines.oldShow&&(l.lines.oldShow=!1),l.points.show&&!l.points.oldShow&&(l.points.show=!1,l.points.oldShow=!0,d=!0),l.lines.show&&!l.lines.oldShow&&(l.lines.show=!1,l.lines.oldShow=!0,d=!0),d)l.oldColor=l.color,l.color="#fff",s(t,o,!0);else{var h=!1;!l.points.show&&l.points.oldShow&&(l.points.show=!0,l.points.oldShow=!1,h=!0),!l.lines.show&&l.lines.oldShow&&(l.lines.show=!0,l.lines.oldShow=!1,h=!0),h&&(l.color=l.oldColor,s(t,o,!1))}}}function l(){n.setData(n.getData()),n.setupGrid(),n.draw()}function s(o,n,e){o.legend.hidden||(o.legend.hidden=[]);var i=o.legend.hidden.indexOf(n);e?0>i&&o.legend.hidden.push(n):i>-1&&o.legend.hidden.splice(i,1)}function t(n){n.mouseenter(function(){o(this).css("cursor","pointer")}).mouseleave(function(){o(this).css("cursor","default")}).unbind("click").click(function(){i(o(this).is(".legendColorBox")?o(this).next(".legendLabel").text():o(this).parent().text()),l()})}function d(o){var n=o.getOptions();if(n.legend.hideable){var e=o.getPlaceholder();if(t(e.find(".graphlabel")),t(e.find(".legendColorBox")),!a&&(a=!0,n.legend.hidden)){for(var s=0;s<n.legend.hidden.length;s++)i(n.legend.hidden[s],!0);l()}}}function h(o,n){n.legend.hideable&&(n.legend.labelFormatter=function(o,n){return'<span class="graphlabel">'+o+"</span>"})}function r(o,n,e){var i=o.getOptions();if(i.legend.hideable){if(i.legend.hidden&&i.legend.hidden.indexOf(n.label)>-1){var l=!1;n.points.show&&(n.points.show=!1,n.points.oldShow=!0,l=!0),n.lines.show&&(n.lines.show=!1,n.lines.oldShow=!0,l=!0),l&&(n.oldColor=n.color,n.color="#fff")}n.points.show||n.lines.show||(n.datapoints.format=[null,null])}}var a=!1;n.hooks.processOptions.push(h),n.hooks.draw.push(function(o,n){d(o)}),n.hooks.processDatapoints.push(r)}var e={};o.plot.plugins.push({init:n,options:e,name:"hiddenGraphs",version:"1.1"})}(jQuery);